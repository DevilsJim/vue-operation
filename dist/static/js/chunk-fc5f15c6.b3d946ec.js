(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc5f15c6"],{"46b4":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"公司账户列表",name:"0"}},[n("el-button",{staticStyle:{"margin-bottom":"15px",float:"right"},attrs:{type:"primary",size:"small"},on:{click:e.handleAddAccount}},[n("i",{staticClass:"el-icon-plus"}),e._v("添加账户")]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listData.listLoading,expression:"listData.listLoading"}],attrs:{data:e.listData.list,"element-loading-text":"Loading",fit:"",border:""}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),e._v(" "),n("el-table-column",{attrs:{label:"账户名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.accountCompany)+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"开户行"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.bankName))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.bankNum))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.handleAdd(t.row)}}},[e._v("添加")]),e._v(" "),!0===t.row.flag?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),!0===t.row.flag?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.handleSee(t.row)}}},[e._v("查看")]):e._e()]}}])})],1)],1)],1),e._v(" "),n("add-account",{attrs:{"add-account":e.addAccount},on:{"update:addAccount":function(t){e.addAccount=t},"update:add-account":function(t){e.addAccount=t}}}),e._v(" "),n("add-or-edit-or-see-channel",{attrs:{"add-edit-see-channel":e.addEditSeeChannel,"item-info":e.itemInfo,title:e.title,"show-type":e.showType},on:{"update:addEditSeeChannel":function(t){e.addEditSeeChannel=t},"update:add-edit-see-channel":function(t){e.addEditSeeChannel=t}}})],1)},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"添加账户","close-on-click-modal":e.flag,visible:e.visible,width:"30%"},on:{"update:visible":function(t){e.visible=t},open:e.openDialog,close:e.close}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"账户：",prop:"accountCompany"}},[n("el-input",{attrs:{placeholder:"请输入账户"},model:{value:e.ruleForm.accountCompany,callback:function(t){e.$set(e.ruleForm,"accountCompany",t)},expression:"ruleForm.accountCompany"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"开户行：",prop:"bankName"}},[n("el-input",{attrs:{placeholder:"请输入开户行"},model:{value:e.ruleForm.bankName,callback:function(t){e.$set(e.ruleForm,"bankName",t)},expression:"ruleForm.bankName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"账号：",prop:"bankNum"}},[n("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.ruleForm.bankNum,callback:function(t){e.$set(e.ruleForm,"bankNum",t)},expression:"ruleForm.bankNum"}})],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")])],1)],1)},i=[],s=n("e7dc"),u={inject:["reload"],name:"AddAccount",props:{addAccount:{type:Boolean,default:!1}},data:function(){return{visible:this.addAccount,ruleForm:{},flag:!1,rules:{accountCompany:[{required:!0,message:"请输入账户",trigger:"blur"}],bankName:[{required:!0,message:"请输入开户行",trigger:"blur"}],bankNum:[{required:!0,message:"请输入账号",trigger:"blur"}]}}},watch:{addAccount:function(){this.visible=this.addAccount}},methods:{openDialog:function(){},resetForm:function(e){this.$refs[e].resetFields(),this.$emit("update:addAccount",!1)},close:function(){this.resetForm("ruleForm")},submitForm:function(e){var t=this;this.$refs[e].validate(function(n){if(!n)return console.log("error submit!!"),!1;Object(s["p"])(t.ruleForm).then(function(n){1e4===n.data.code?(t.$message.success(n.data.message),t.resetForm(e),t.reload()):t.$message.error(n.data.message)}).catch(function(e){t.$message.error(e)})})}}},l=u,c=n("2877"),d=Object(c["a"])(l,a,i,!1,null,null,null),m=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,"close-on-click-modal":e.flag,visible:e.visible,width:"40%"},on:{"update:visible":function(t){e.visible=t},open:e.openDialog,close:e.close}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"130px"}},["2"!==e.showType?e._l(e.ruleForm.domains,function(t,o){return n("el-form-item",{key:t.key,attrs:{label:"汇入途径名称：",prop:"domains."+o+".value",rules:{required:!0,message:"汇入途径名称不能为空",trigger:"blur"}}},[n("el-input",{staticStyle:{width:"70%"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}}),e._v(" "),"1"===e.showType?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addChannel}},[e._v("添加")]):e._e(),e._v(" "),"3"===e.showType?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return n.preventDefault(),e.updateChannel("ruleForm",t)}}},[e._v("保存")]):e._e(),e._v(" "),e.delShow?n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return n.preventDefault(),e.removeChannel(t)}}},[e._v("删除")]):e._e()],1)}):e._e(),e._v(" "),"2"===e.showType?[e._l(e.ruleForm.domains,function(t){return[n("el-form-item",{key:t.key,attrs:{label:"汇入途径名称："}},[n("span",[e._v(e._s(t.value))])])]})]:e._e()],2),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取消")]),e._v(" "),"1"===e.showType?n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")]):e._e()],1)],1)},p=[],h=(n("ac6a"),{inject:["reload"],name:"AddOrEditOrSeeChannel",props:{addEditSeeChannel:{type:Boolean,default:!1},itemInfo:{type:Object,default:function(){return{}}},title:{type:String,default:""},showType:{type:String,default:""}},data:function(){return{visible:this.addEditSeeChannel,ruleForm:{domains:[{value:""}]},flag:!1,importRouteList:[]}},computed:{delShow:function(){return this.ruleForm.domains.length>1}},watch:{addEditSeeChannel:function(){this.visible=this.addEditSeeChannel}},methods:{openDialog:function(){"3"!==this.showType&&"2"!==this.showType||(this.getListByAccountId(),this.ruleForm={domains:[]}),"1"===this.showType&&(this.ruleForm={domains:[{value:""}]})},addChannel:function(){this.ruleForm.domains.push({value:"",key:Date.now()})},removeChannel:function(e){var t=this;if("1"===this.showType){var n=this.ruleForm.domains.indexOf(e);-1!==n&&this.ruleForm.domains.splice(n,1)}if("3"===this.showType){var o={pkSid:e.key,delStatus:2};Object(s["q"])(o).then(function(e){1e4===e.data.code?(t.$message.success(e.data.message),t.resetForm("ruleForm"),t.reload()):t.$message.error(e.data.message)}).catch(function(e){t.$message.error(e)})}},resetForm:function(e){this.$refs[e].resetFields(),this.$emit("update:addEditSeeChannel",!1)},close:function(){this.resetForm("ruleForm")},submitForm:function(e){var t=this;this.importRouteList=[],this.ruleForm.domains.forEach(function(e){t.importRouteList.push(e.value)});var n={accountId:this.itemInfo.accountId,importRouteList:this.importRouteList};this.$refs[e].validate(function(o){if(!o)return console.log("error submit!!"),!1;Object(s["a"])(n).then(function(n){1e4===n.data.code?(t.$message.success(n.data.message),t.resetForm(e),t.reload()):t.$message.error(n.data.message)}).catch(function(e){t.$message.error(e)})})},getListByAccountId:function(){var e=this;Object(s["g"])(this.itemInfo.accountId).then(function(t){if(1e4===t.data.code&&t.data.data.length>0){var n=t.data.data;n.forEach(function(t){e.ruleForm.domains.push({value:t.importRoute,key:t.pkSid})})}})},updateChannel:function(e,t){var n=this,o={pkSid:t.key,importRoute:t.value};this.$refs[e].validate(function(t){if(!t)return console.log("error submit!!"),!1;Object(s["q"])(o).then(function(t){1e4===t.data.code?(n.$message.success(t.data.message),n.resetForm(e),n.reload()):n.$message.error(t.data.message)}).catch(function(e){n.$message.error(e)})})}}}),g=h,b=Object(c["a"])(g,f,p,!1,null,null,null),v=b.exports,y={name:"ZhList",components:{AddAccount:m,AddOrEditOrSeeChannel:v},data:function(){return{listData:{list:[],listLoading:!1},addAccount:!1,addEditSeeChannel:!1,itemInfo:{},title:"",showType:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.$set(this.listData,"listLoading",!0),Object(s["c"])().then(function(t){1e4===t.data.code&&(e.listData=Object.assign({},e.listData,{list:t.data.data,listLoading:!1}))})},handleAddAccount:function(){this.addAccount=!0},handleAdd:function(e){this.addEditSeeChannel=!0,this.itemInfo=e,this.title="添加汇入途径",this.showType="1"},handleEdit:function(e){this.addEditSeeChannel=!0,this.itemInfo=e,this.title="编辑汇入途径",this.showType="3"},handleSee:function(e){this.addEditSeeChannel=!0,this.itemInfo=e,this.title="查看汇入途径",this.showType="2"}}},_=y,k=Object(c["a"])(_,o,r,!1,null,null,null);t["default"]=k.exports},e13e:function(e,t,n){"use strict";var o=n("bc3a"),r=n.n(o),a=n("5c96"),i=n("4360"),s=n("5f87"),u=n("a18c"),l=r.a.create({baseURL:"http://192.168.91.112:10006/api/v1",withCredentials:!1,timeout:5e3});l.interceptors.request.use(function(e){return Object(s["b"])()||u["c"].push("/login"),e.headers={"Content-Type":"application/json",token:Object(s["b"])()},e},function(e){return console.log(e),Promise.reject(e)}),l.interceptors.response.use(function(e){var t=e,n=e.data;return n.code&&1e4!==n.code?(Object(a["Message"])({message:n.message||"error",type:"error",duration:5e3}),50008!==n.code&&50012!==n.code&&50014!==n.code||a["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then(function(){i["a"].dispatch("user/resetToken").then(function(){location.reload()})}),Promise.reject(n.message||"error")):t},function(e){return console.log("err"+e),Object(a["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}),t["a"]=l},e7dc:function(e,t,n){"use strict";var o=n("bc3a"),r=n.n(o),a=n("5c96"),i=n("4360"),s=n("5f87"),u=n("a18c"),l=r.a.create({baseURL:"http://192.168.91.112:10003/api/v1",withCredentials:!1,timeout:5e5});l.interceptors.request.use(function(e){return Object(s["b"])()||u["c"].push("/login"),e.headers={"Content-Type":"application/json",token:Object(s["b"])()},e},function(e){return console.log(e),Promise.reject(e)}),l.interceptors.response.use(function(e){var t=e,n=e.data;return 1e4!==n.code?(Object(a["Message"])({message:n.message||"error",type:"error",duration:5e3}),50008!==n.code&&50012!==n.code&&50014!==n.code||a["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then(function(){i["a"].dispatch("user/resetToken").then(function(){location.reload()})}),Promise.reject(n.message||"error")):t},function(e){return console.log("err"+e),Object(a["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)});var c=l,d=n("e13e");function m(){return c({url:"/zgImportRoute/getAllZgAccout",method:"get"})}function f(e){return c({url:"/zgImportRoute/saveZgAccount",method:"post",data:e})}function p(){return c({url:"/zgBranchCompany/getList",method:"get"})}function h(e){return c({baseURL:"http://192.168.91.112:10006/api/v1/sysDept/getDeptTreeList",method:"post",data:e})}function g(e){return c({url:"/zgBranchCompany/save",method:"post",data:e})}function b(e){return c({url:"/zgImportRoute/save",method:"post",data:e})}function v(e){return c({url:"/zgImportRoute/update",method:"post",data:e})}function y(e){return c({url:"/zgImportRoute/getListByAccountId/"+e,method:"get"})}function _(e){return c({url:"/ZgBcompanyPtypeAccount/saveMany",method:"post",data:e})}function k(e){return c({url:"/ZgBcompanyPtypeAccount/getListByBranchCompanyId/"+e,method:"get"})}function C(e){return c({url:"/ZgBcompanyPtypeAccount/updateMany",method:"post",data:e})}function F(e){return c({url:"/zgCustomerPayment/getZgCustomerPaymentPageList",method:"post",data:e})}function w(e){return c({url:"/zgImportRoute/getImportRoutList",method:"get"})}function A(e){return c({url:"/zgCustomerPayment/deleteByPksid/"+e,method:"get"})}function j(e){return c({url:"/zgCustomerPayment/manMatchZgCustomerPayment",method:"post",data:e})}function S(e){return c({url:"/zgCustomerPayment/matchZgCustomerPayment",method:"post",data:e})}function L(e){return c({url:"http://192.168.91.112:10002/api/v1/zgOrder/getZgOrderPageList",method:"post",data:e})}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({url:"http://192.168.91.112:8012/api/v1/zgProductCategory/getZgProductCategoryTreeAndProduct",method:"post",data:e})}n.d(t,"c",function(){return m}),n.d(t,"p",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"n",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"q",function(){return v}),n.d(t,"g",function(){return y}),n.d(t,"o",function(){return _}),n.d(t,"h",function(){return k}),n.d(t,"r",function(){return C}),n.d(t,"k",function(){return F}),n.d(t,"e",function(){return w}),n.d(t,"b",function(){return A}),n.d(t,"l",function(){return j}),n.d(t,"m",function(){return S}),n.d(t,"i",function(){return L}),n.d(t,"j",function(){return O})}}]);