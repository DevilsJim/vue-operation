(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d79a1fc"],{"31da":function(t,e,o){"use strict";var n=o("e74f"),a=o.n(n);a.a},"456d":function(t,e,o){var n=o("4bf8"),a=o("0d58");o("5eda")("keys",function(){return function(t){return a(n(t))}})},"5eda":function(t,e,o){var n=o("5ca1"),a=o("8378"),r=o("79e5");t.exports=function(t,e){var o=(a.Object||{})[t]||Object[t],i={};i[t]=e(o),n(n.S+n.F*r(function(){o(1)}),"Object",i)}},"9aa96":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-tabs",{attrs:{type:"border-card"}},[o("el-tab-pane",{attrs:{label:"商品打款账户",name:"0"}},[o("el-button",{staticStyle:{"margin-bottom":"15px",float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.handleCompany}},[o("i",{staticClass:"el-icon-plus"}),t._v("添加公司")]),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listData.listLoading,expression:"listData.listLoading"}],attrs:{data:t.listData.list,"element-loading-text":"Loading",fit:"",border:""}},[o("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),t._v(" "),o("el-table-column",{attrs:{label:"公司名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.deptName)+"\n          ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作人"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.createName))]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.createDate))]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[!1===e.row.flag?o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.handleAdd(e.row)}}},[t._v("添加")]):t._e(),t._v(" "),!0===e.row.flag?o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.handleEdit(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.handleSee(e.row)}}},[t._v("查看")])]}}])})],1)],1)],1),t._v(" "),o("add-or-edit-company",{attrs:{"add-or-edit-company":t.addOrEditCompany,"item-info":t.itemInfo,title:t.title,type:t.type},on:{"update:addOrEditCompany":function(e){t.addOrEditCompany=e},"update:add-or-edit-company":function(e){t.addOrEditCompany=e}}}),t._v(" "),o("add-company",{attrs:{"add-company":t.addCompany},on:{"update:addCompany":function(e){t.addCompany=e},"update:add-company":function(e){t.addCompany=e}}})],1)},a=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{staticClass:"addOrEditCompany",attrs:{title:t.title,"close-on-click-modal":t.flag,visible:t.visible,width:"30%"},on:{"update:visible":function(e){t.visible=e},open:t.openDialog,close:t.close}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},["1"==t.type?o("div",[o("el-form-item",{attrs:{label:"公司名称："}},[o("span",[t._v(t._s(t.itemInfo.deptName))])]),t._v(" "),t._l(t.ruleForm.zgBcompanyPtypeAccountList,function(e,n){return[o("div",{key:e.ptypeId},[o("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"商品分类："}},[o("el-radio-group",{model:{value:e.ptypeId,callback:function(o){t.$set(e,"ptypeId",o)},expression:"item.ptypeId"}},[o("el-radio",{attrs:{label:"1"}},[t._v(t._s(e.ptypeName))])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"入款公司：",prop:"zgBcompanyPtypeAccountList."+n+".accountId",rules:t.rules.accountId}},[o("el-select",{attrs:{placeholder:"请选择入款公司"},model:{value:e.accountId,callback:function(o){t.$set(e,"accountId",o)},expression:"item.accountId"}},[t._l(t.allZgAccoutList,function(t){return[o("el-option",{key:t.accountId,attrs:{label:t.accountCompany,value:t.accountId}})]})],2)],1)],1)]})],2):t._e(),t._v(" "),"3"==t.type?o("div",[o("el-form-item",{attrs:{label:"公司名称："}},[o("span",[t._v(t._s(t.itemInfo.deptName))])]),t._v(" "),t._l(t.ruleForm.zgBcompanyPtypeAccountList,function(e){return[o("div",{key:e.ptypeId},[o("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"商品分类："}},[o("el-radio-group",{model:{value:e.ptypeId,callback:function(o){t.$set(e,"ptypeId",o)},expression:"item.ptypeId"}},[o("el-radio",{attrs:{label:"1"}},[t._v(t._s(e.ptypeName))])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"入款公司："}},[o("el-select",{attrs:{placeholder:"请选择入款公司"},model:{value:e.accountId,callback:function(o){t.$set(e,"accountId",o)},expression:"item.accountId"}},[t._l(t.allZgAccoutList,function(t){return[o("el-option",{key:t.accountId,attrs:{label:t.accountCompany,value:t.accountId}})]})],2)],1)],1)]})],2):t._e(),t._v(" "),"2"==t.type?o("div",[o("el-form-item",{attrs:{label:"公司名称："}},[o("span",[t._v(t._s(t.itemInfo.deptName))])]),t._v(" "),t._l(t.ruleForm.zgBcompanyPtypeAccountList,function(e){return[o("div",{key:e.ptypeId},[o("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"商品分类："}},[o("el-radio-group",{model:{value:e.ptypeId,callback:function(o){t.$set(e,"ptypeId",o)},expression:"item.ptypeId"}},[o("el-radio",{attrs:{label:"1"}},[t._v(t._s(e.ptypeName))])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"入款公司："}},[o("span",[t._v(t._s(e.accountCompany)+" ")])])],1)]})],2):t._e()]),t._v(" "),"2"!==t.type?o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){"1"===t.type?t.submitForm("ruleForm"):t.updateMany("ruleForm")}}},[t._v("确定")])],1):t._e()],1)},i=[],s=(o("ac6a"),o("bc3a")),c=o.n(s),u=o("5c96"),l=o("4360"),d=o("5f87"),m=o("a18c"),p=c.a.create({baseURL:"http://192.168.91.112:8012/api/v1",withCredentials:!1,timeout:5e5});p.interceptors.request.use(function(t){return Object(d["b"])()||m["c"].push("/login"),t.headers={"Content-Type":"application/json",token:Object(d["b"])()},t},function(t){return console.log(t),Promise.reject(t)}),p.interceptors.response.use(function(t){var e=t,o=t.data;return 1e4!==o.code?(Object(u["Message"])({message:o.message||"error",type:"error",duration:5e3}),50008!==o.code&&50012!==o.code&&50014!==o.code||u["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then(function(){l["a"].dispatch("user/resetToken").then(function(){location.reload()})}),Promise.reject(o.message||"error")):e},function(t){return console.log("err"+t),Object(u["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)});var f=p;function g(t){return f({url:"/zgProductCategory/getZgProductCategoryList",method:"post",data:t})}var y=o("e7dc"),h={inject:["reload"],name:"AddOrEditCompany",props:{addOrEditCompany:{type:Boolean,default:!1},itemInfo:{type:Object,default:function(){return{}}},title:{type:String,default:""},type:{type:String,default:""}},data:function(){return{visible:this.addOrEditCompany,flag:!1,rules:{accountId:[{required:!0,message:"请选择入款公司",trigger:"change"}]},productCategoryList:[],allZgAccoutList:[],ruleForm:{branchCompanyId:this.itemInfo.branchCompanyId,zgBcompanyPtypeAccountList:[{ptypeId:"",ptypeName:""}]}}},watch:{addOrEditCompany:function(){this.visible=this.addOrEditCompany}},methods:{openDialog:function(){this.ruleForm={branchCompanyId:this.itemInfo.branchCompanyId,zgBcompanyPtypeAccountList:[]},"1"===this.type&&this.getZgProductCategoryList(),"2"!==this.type&&"3"!==this.type||this.getListByBranchCompanyId(),this.getAllZgAccout()},getZgProductCategoryList:function(){var t=this;g({parentId:0,deleted:0}).then(function(e){if(1e4===e.data.code&&e.data.data.length>0){console.log(e.data),t.productCategoryList=e.data.data;var o=[];t.productCategoryList.forEach(function(t){o.push({ptypeId:t.categoryId,ptypeName:t.typeName})}),t.ruleForm.zgBcompanyPtypeAccountList=o}})},getAllZgAccout:function(){var t=this;Object(y["c"])().then(function(e){1e4===e.data.code&&e.data.data.length>0&&(console.log(e.data),t.allZgAccoutList=e.data.data,console.log("下拉框列表",t.allZgAccoutList))})},resetForm:function(t){this.$refs[t].resetFields(),this.$emit("update:addOrEditCompany",!1)},close:function(){this.resetForm("ruleForm")},submitForm:function(t){var e=this;this.$refs[t].validate(function(o){if(!o)return console.log("error submit!!"),!1;Object(y["o"])(e.ruleForm).then(function(o){1e4===o.data.code?(e.$message.success(o.data.message),e.resetForm(t),e.reload()):e.$message.error(o.data.message)}).catch(function(t){e.$message.error(t)})})},getListByBranchCompanyId:function(){var t=this;Object(y["h"])(this.itemInfo.branchCompanyId).then(function(e){1e4===e.data.code&&e.data.data.length>0&&(t.ruleForm.zgBcompanyPtypeAccountList=e.data.data)})},updateMany:function(t){var e=this;this.$refs[t].validate(function(o){if(!o)return console.log("error submit!!"),!1;Object(y["r"])(e.ruleForm).then(function(o){1e4===o.data.code?(e.$message.success(o.data.message),e.resetForm(t),e.reload()):e.$message.error(o.data.message)}).catch(function(t){e.$message.error(t)})})}}},b=h,v=(o("e635"),o("2877")),C=Object(v["a"])(b,r,i,!1,null,"e4eb8482",null),_=C.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:"添加公司","close-on-click-modal":t.flag,visible:t.visible,width:"45%"},on:{"update:visible":function(e){t.visible=e},open:t.openDialog,close:t.close}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"150px"}},[t._l(t.list,function(e){return[o("el-form-item",{key:e.pkSid,attrs:{label:e.deptName+"："}},[o("el-radio-group",{model:{value:t.resource,callback:function(e){t.resource=e},expression:"resource"}},t._l(e.children,function(e){return o("el-radio",{key:e.pkSid,attrs:{label:e}},[t._v(" "+t._s(e.deptName)+" ")])}),1)],1)]})],2),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确定")])],1)],1)},O=[],L=(o("456d"),{inject:["reload"],name:"AddCompany",props:{addCompany:{type:Boolean,default:!1}},data:function(){return{visible:this.addCompany,ruleForm:{},flag:!1,rules:{name:[{required:!0,message:"请选择入款公司",trigger:"change"}]},defaultChecked:[2005],defaultProps:{children:"children",label:"deptName"},list:[],resource:{}}},watch:{addCompany:function(){this.visible=this.addCompany}},methods:{openDialog:function(){this.getDeptTreeList(),this.resource={}},getDeptTreeList:function(){var t=this;Object(y["d"])({}).then(function(e){1e4===e.data.code&&e.data.data.length>0&&(t.list=e.data.data)})},resetForm:function(t){this.$refs[t].resetFields(),this.$emit("update:addCompany",!1)},close:function(){this.resetForm("ruleForm")},submitForm:function(t){var e=this,o={deptId:this.resource.pkSid,deptName:this.resource.deptName};this.$refs[t].validate(function(n){if(!n)return console.log("error submit!!"),!1;0===Object.keys(e.resource).length?e.$message.error("请选择"):Object(y["n"])(o).then(function(o){1e4===o.data.code?(e.$message.success(o.data.message),e.resetForm(t),e.reload()):e.$message.error(o.data.message)}).catch(function(t){e.$message.error(t)})})}}}),k=L,j=(o("31da"),Object(v["a"])(k,I,O,!1,null,"4ee28f51",null)),F=j.exports,P={name:"AccountSettings",components:{AddOrEditCompany:_,AddCompany:F},data:function(){return{listData:{list:[],listLoading:!1},addOrEditCompany:!1,addCompany:!1,itemInfo:{},title:"",type:""}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listData.listLoading=!0,Object(y["f"])().then(function(e){1e4===e.data.code&&(t.listData.list=e.data.data,t.listData.listLoading=!1)})},handleCompany:function(){this.addCompany=!0},handleAdd:function(t){this.addOrEditCompany=!0,this.title="商品入账设置",this.itemInfo=t,this.type="1"},handleEdit:function(t){this.addOrEditCompany=!0,this.itemInfo=t,this.title="商品入账设置",this.type="3"},handleSee:function(t){this.addOrEditCompany=!0,this.itemInfo=t,this.title="商品入账详情",this.type="2"}}},A=P,B=Object(v["a"])(A,n,a,!1,null,null,null);e["default"]=B.exports},c909:function(t,e,o){},e13e:function(t,e,o){"use strict";var n=o("bc3a"),a=o.n(n),r=o("5c96"),i=o("4360"),s=o("5f87"),c=o("a18c"),u=a.a.create({baseURL:"http://192.168.91.112:10006/api/v1",withCredentials:!1,timeout:5e3});u.interceptors.request.use(function(t){return Object(s["b"])()||c["c"].push("/login"),t.headers={"Content-Type":"application/json",token:Object(s["b"])()},t},function(t){return console.log(t),Promise.reject(t)}),u.interceptors.response.use(function(t){var e=t,o=t.data;return o.code&&1e4!==o.code?(Object(r["Message"])({message:o.message||"error",type:"error",duration:5e3}),50008!==o.code&&50012!==o.code&&50014!==o.code||r["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then(function(){i["a"].dispatch("user/resetToken").then(function(){location.reload()})}),Promise.reject(o.message||"error")):e},function(t){return console.log("err"+t),Object(r["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)}),e["a"]=u},e635:function(t,e,o){"use strict";var n=o("c909"),a=o.n(n);a.a},e74f:function(t,e,o){},e7dc:function(t,e,o){"use strict";var n=o("bc3a"),a=o.n(n),r=o("5c96"),i=o("4360"),s=o("5f87"),c=o("a18c"),u=a.a.create({baseURL:"http://192.168.91.112:10003/api/v1",withCredentials:!1,timeout:5e5});u.interceptors.request.use(function(t){return Object(s["b"])()||c["c"].push("/login"),t.headers={"Content-Type":"application/json",token:Object(s["b"])()},t},function(t){return console.log(t),Promise.reject(t)}),u.interceptors.response.use(function(t){var e=t,o=t.data;return 1e4!==o.code?(Object(r["Message"])({message:o.message||"error",type:"error",duration:5e3}),50008!==o.code&&50012!==o.code&&50014!==o.code||r["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then(function(){i["a"].dispatch("user/resetToken").then(function(){location.reload()})}),Promise.reject(o.message||"error")):e},function(t){return console.log("err"+t),Object(r["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)});var l=u,d=o("e13e");function m(){return l({url:"/zgImportRoute/getAllZgAccout",method:"get"})}function p(t){return l({url:"/zgImportRoute/saveZgAccount",method:"post",data:t})}function f(){return l({url:"/zgBranchCompany/getList",method:"get"})}function g(t){return l({baseURL:"http://192.168.91.112:10006/api/v1/sysDept/getDeptTreeList",method:"post",data:t})}function y(t){return l({url:"/zgBranchCompany/save",method:"post",data:t})}function h(t){return l({url:"/zgImportRoute/save",method:"post",data:t})}function b(t){return l({url:"/zgImportRoute/update",method:"post",data:t})}function v(t){return l({url:"/zgImportRoute/getListByAccountId/"+t,method:"get"})}function C(t){return l({url:"/ZgBcompanyPtypeAccount/saveMany",method:"post",data:t})}function _(t){return l({url:"/ZgBcompanyPtypeAccount/getListByBranchCompanyId/"+t,method:"get"})}function I(t){return l({url:"/ZgBcompanyPtypeAccount/updateMany",method:"post",data:t})}function O(t){return l({url:"/zgCustomerPayment/getZgCustomerPaymentPageList",method:"post",data:t})}function L(t){return l({url:"/zgImportRoute/getImportRoutList",method:"get"})}function k(t){return l({url:"/zgCustomerPayment/deleteByPksid/"+t,method:"get"})}function j(t){return l({url:"/zgCustomerPayment/manMatchZgCustomerPayment",method:"post",data:t})}function F(t){return l({url:"/zgCustomerPayment/matchZgCustomerPayment",method:"post",data:t})}function P(t){return l({url:"http://192.168.91.112:10002/api/v1/zgOrder/getZgOrderPageList",method:"post",data:t})}function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({url:"http://192.168.91.112:8012/api/v1/zgProductCategory/getZgProductCategoryTreeAndProduct",method:"post",data:t})}o.d(e,"c",function(){return m}),o.d(e,"p",function(){return p}),o.d(e,"f",function(){return f}),o.d(e,"d",function(){return g}),o.d(e,"n",function(){return y}),o.d(e,"a",function(){return h}),o.d(e,"q",function(){return b}),o.d(e,"g",function(){return v}),o.d(e,"o",function(){return C}),o.d(e,"h",function(){return _}),o.d(e,"r",function(){return I}),o.d(e,"k",function(){return O}),o.d(e,"e",function(){return L}),o.d(e,"b",function(){return k}),o.d(e,"l",function(){return j}),o.d(e,"m",function(){return F}),o.d(e,"i",function(){return P}),o.d(e,"j",function(){return A})}}]);